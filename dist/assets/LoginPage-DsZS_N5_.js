import{u as w,r as o,j as e,L as h,l as L,a as E,g as S}from"./index-BBddTGOj.js";import{A as z}from"./AuthLayout-CzRXraVo.js";import{C as g,i as C}from"./validators-CZcF-irh.js";import{M as A}from"./mail-DFCkEYee.js";import{L as M,E as I,a as G}from"./lock-BrojxJCI.js";import{c as O}from"./PublicLayout-CIYkHypp.js";/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=O("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),b=({label:n,id:a,type:d,value:c,onChange:u,placeholder:i,error:t,icon:m,rightEl:r})=>e.jsxs("div",{className:"flex flex-col gap-1.5",children:[e.jsx("label",{htmlFor:a,className:"text-xs font-mono tracking-wide uppercase",style:{color:"var(--mist)"},children:n}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-3.5 top-1/2 -translate-y-1/2 pointer-events-none",children:e.jsx(m,{size:16,style:{color:t?"var(--error)":"var(--mist)"}})}),e.jsx("input",{id:a,type:d,value:c,onChange:u,placeholder:i,className:`input-field pl-10 pr-${r?"10":"4"} ${t?"error":""}`}),r&&e.jsx("div",{className:"absolute right-3.5 top-1/2 -translate-y-1/2",children:r})]}),t&&e.jsxs("p",{className:"text-xs flex items-center gap-1.5",style:{color:"var(--error)"},children:[e.jsx(g,{size:12})," ",t]})]}),Y=()=>{const n=w(),[a,d]=o.useState({email:"",password:""}),[c,u]=o.useState(!1),[i,t]=o.useState({}),[m,r]=o.useState(""),[x,f]=o.useState(!1),[j,v]=o.useState(!1),N=()=>{const s={};return a.email?C(a.email)||(s.email="Sadece .edu.tr uzantılı e-postalar kabul edilir."):s.email="E-posta adresi zorunludur.",a.password||(s.password="Şifre zorunludur."),t(s),Object.keys(s).length===0},k=async s=>{if(s.preventDefault(),r(""),!!N()){f(!0);try{const l=await L(a);await E(l.uid),l.emailVerified?n("/dashboard"):n("/email-dogrula")}catch(l){r(S(l.code))}finally{f(!1)}}},y=s=>l=>{d(p=>({...p,[s]:l.target.value})),i[s]&&t(p=>({...p,[s]:""})),r("")};return e.jsx(z,{title:"Tekrar hoş geldin.",subtitle:"Akademik çalışma arkadaşlarınla buluşmak için giriş yap.",footerText:"Hesabın yok mu?",footerLink:"/kayit",footerLinkText:"Kayıt Ol →",children:e.jsxs("form",{onSubmit:k,className:"flex flex-col gap-5",noValidate:!0,children:[m&&e.jsxs("div",{className:"flex items-start gap-3 p-4 rounded-xl text-sm",style:{background:"rgba(200,64,64,0.1)",border:"1px solid rgba(200,64,64,0.25)",color:"#E87070"},children:[e.jsx(g,{size:16,className:"flex-shrink-0 mt-0.5"}),m]}),e.jsx(b,{label:"E-posta Adresi",id:"email",type:"email",value:a.email,onChange:y("email"),placeholder:"ad.soyad@uni.edu.tr",error:i.email,icon:A}),e.jsx(b,{label:"Şifre",id:"password",type:c?"text":"password",value:a.password,onChange:y("password"),placeholder:"••••••••",error:i.password,icon:M,rightEl:e.jsx("button",{type:"button",onClick:()=>u(s=>!s),className:"p-1 transition-opacity hover:opacity-100 opacity-50",children:c?e.jsx(I,{size:16,className:"text-cream"}):e.jsx(G,{size:16,className:"text-cream"})})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer text-sm",style:{color:"var(--mist)"},children:[e.jsx("input",{type:"checkbox",checked:j,onChange:s=>v(s.target.checked),className:"w-4 h-4 rounded accent-amber-500 cursor-pointer"}),"Beni Hatırla"]}),e.jsx(h,{to:"/sifremi-unuttum",className:"text-sm transition-colors",style:{color:"var(--amber)"},onMouseEnter:s=>s.target.style.color="var(--amber-light)",onMouseLeave:s=>s.target.style.color="var(--amber)",children:"Şifremi Unuttum"})]}),e.jsx("button",{type:"submit",disabled:x,className:"btn-primary w-full py-3.5 text-base mt-2 disabled:opacity-50 disabled:cursor-not-allowed",children:x?e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx("span",{className:"w-4 h-4 border-2 border-ink border-t-transparent rounded-full animate-spin"}),"Giriş yapılıyor..."]}):e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx(P,{size:18})," Giriş Yap"]})}),e.jsxs("div",{className:"relative flex items-center gap-4 my-1",children:[e.jsx("div",{className:"flex-1 border-t",style:{borderColor:"rgba(245,237,216,0.1)"}}),e.jsx("span",{className:"text-xs",style:{color:"rgba(138,154,170,0.5)"},children:"veya"}),e.jsx("div",{className:"flex-1 border-t",style:{borderColor:"rgba(245,237,216,0.1)"}})]}),e.jsx(h,{to:"/kayit",className:"btn-outline w-full py-3.5 text-sm text-center hover:bg-cream/5 transition-all",children:"Yeni hesap oluştur"})]})})};export{Y as default};
