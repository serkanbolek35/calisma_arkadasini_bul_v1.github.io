import{r as a,j as e,L as p,e as u}from"./index-4AM2v5zk.js";import{A as d}from"./AuthLayout-BYg2Ifkx.js";import{C as f,i as b}from"./validators-zkfZzeRC.js";import{C as j}from"./circle-check-C5tol9Y-.js";import{A as g}from"./arrow-left-DrhcKYZr.js";import{M as h}from"./mail-C--BTAWI.js";import{S as y}from"./send-CtUU7gtQ.js";import"./PublicLayout-D-U2DQrY.js";const C=()=>{const[s,c]=a.useState(""),[m,l]=a.useState(!1),[i,n]=a.useState(!1),[o,r]=a.useState(""),x=async t=>{if(t.preventDefault(),r(""),!s){r("E-posta adresi zorunludur.");return}if(!b(s)){r("Sadece .edu.tr uzantılı e-postalar kabul edilir.");return}n(!0);try{await u(s),l(!0)}catch{l(!0)}finally{n(!1)}};return m?e.jsx(d,{title:"E-posta Gönderildi",subtitle:"",children:e.jsxs("div",{className:"flex flex-col items-center text-center gap-6",children:[e.jsx("div",{className:"w-20 h-20 rounded-3xl flex items-center justify-center",style:{background:"rgba(58,138,90,0.1)",border:"1px solid rgba(58,138,90,0.2)"},children:e.jsx(j,{size:36,style:{color:"#3A8A5A"}})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-cream leading-relaxed mb-2",children:["Eğer ",e.jsx("strong",{style:{color:"var(--amber)"},children:s})," sistemde kayıtlıysa, şifre sıfırlama bağlantısı gönderilmiştir."]}),e.jsx("p",{className:"text-sm",style:{color:"var(--mist)"},children:"Spam/Gereksiz klasörünüzü kontrol etmeyi unutmayın. Bağlantı 1 saat geçerlidir."})]}),e.jsxs(p,{to:"/giris",className:"btn-primary px-6 py-3 flex items-center gap-2",children:[e.jsx(g,{size:16})," Giriş Sayfasına Dön"]})]})}):e.jsx(d,{title:"Şifreni Sıfırla",subtitle:"Üniversite e-postanı gir, sıfırlama bağlantısı gönderelim.",footerText:"Şifreni hatırladın mı?",footerLink:"/giris",footerLinkText:"Giriş Yap →",children:e.jsxs("form",{onSubmit:x,className:"flex flex-col gap-5",noValidate:!0,children:[o&&e.jsxs("div",{className:"flex items-start gap-3 p-4 rounded-xl text-sm",style:{background:"rgba(200,64,64,0.1)",border:"1px solid rgba(200,64,64,0.25)",color:"#E87070"},children:[e.jsx(f,{size:16,className:"flex-shrink-0 mt-0.5"}),o]}),e.jsxs("div",{className:"flex flex-col gap-1.5",children:[e.jsx("label",{htmlFor:"email",className:"text-xs font-mono tracking-wide uppercase",style:{color:"var(--mist)"},children:"E-posta Adresi"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-3.5 top-1/2 -translate-y-1/2 pointer-events-none",children:e.jsx(h,{size:16,style:{color:"var(--mist)"}})}),e.jsx("input",{id:"email",type:"email",value:s,onChange:t=>{c(t.target.value),r("")},placeholder:"ali.veli@ogr.uni.edu.tr",className:"input-field pl-10"})]})]}),e.jsx("button",{type:"submit",disabled:i,className:"btn-primary w-full py-3.5 text-base disabled:opacity-50 disabled:cursor-not-allowed",children:i?e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx("span",{className:"w-4 h-4 border-2 border-ink border-t-transparent rounded-full animate-spin"}),"Gönderiliyor..."]}):e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx(y,{size:16})," Sıfırlama Bağlantısı Gönder"]})})]})})};export{C as default};
