import{u as L,r as d,j as e,L as v,b as M,g as R}from"./index-BBddTGOj.js";import{A as U}from"./AuthLayout-CzRXraVo.js";import{v as G,C as S,g as O,i as V}from"./validators-CZcF-irh.js";import{c as F}from"./PublicLayout-CIYkHypp.js";import{M as T}from"./mail-DFCkEYee.js";import{L as z,E as C,a as E}from"./lock-BrojxJCI.js";import{U as Z}from"./user-plus-DWFSZnlo.js";import{C as _}from"./circle-check-R-dCLeZ1.js";/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=F("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),B=({password:r})=>{if(!r)return null;const{level:s,label:n,color:l}=O(r),p={weak:"33%",medium:"66%",strong:"100%"};return e.jsxs("div",{className:"flex flex-col gap-1.5",children:[e.jsx("div",{className:"h-1 rounded-full overflow-hidden",style:{background:"rgba(245,237,216,0.1)"},children:e.jsx("div",{className:"h-full rounded-full transition-all duration-500",style:{width:p[s],background:l}})}),e.jsxs("p",{className:"text-xs",style:{color:l},children:["Şifre gücü: ",e.jsx("span",{className:"font-medium",children:n})]})]})},x=({met:r,text:s})=>e.jsxs("div",{className:"flex items-center gap-1.5 text-xs",style:{color:r?"var(--success)":"var(--mist)"},children:[e.jsx(_,{size:11,style:{opacity:r?1:.3}}),s]}),h=({label:r,id:s,type:n,value:l,onChange:p,placeholder:u,error:m,icon:o,rightEl:c})=>e.jsxs("div",{className:"flex flex-col gap-1.5",children:[e.jsx("label",{htmlFor:s,className:"text-xs font-mono tracking-wide uppercase",style:{color:"var(--mist)"},children:r}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-3.5 top-1/2 -translate-y-1/2 pointer-events-none",children:e.jsx(o,{size:16,style:{color:m?"var(--error)":"var(--mist)"}})}),e.jsx("input",{id:s,type:n,value:l,onChange:p,placeholder:u,className:`input-field pl-10 ${c?"pr-10":"pr-4"} ${m?"error":""}`}),c&&e.jsx("div",{className:"absolute right-3.5 top-1/2 -translate-y-1/2",children:c})]}),m&&e.jsxs("p",{className:"text-xs flex items-center gap-1.5",style:{color:"var(--error)"},children:[e.jsx(S,{size:12})," ",m]})]}),g=({id:r,checked:s,onChange:n,children:l})=>e.jsxs("label",{htmlFor:r,className:"flex items-start gap-3 cursor-pointer group",children:[e.jsx("input",{id:r,type:"checkbox",checked:s,onChange:n,className:"mt-0.5 w-4 h-4 flex-shrink-0 rounded cursor-pointer accent-yellow-500"}),e.jsx("span",{className:"text-xs leading-relaxed",style:{color:"var(--mist)"},children:l})]}),X=()=>{const r=L(),[s,n]=d.useState({displayName:"",email:"",password:"",passwordConfirm:""}),[l,p]=d.useState(!1),[u,m]=d.useState(!1),[o,c]=d.useState({terms:!1,privacy:!1,kvkk:!1}),[t,j]=d.useState({}),[b,f]=d.useState(""),[N,w]=d.useState(!1),A=G(s.password),K=()=>{const a={};return s.displayName.trim()||(a.displayName="Ad Soyad zorunludur."),s.email?V(s.email)||(a.email="Sadece .edu.tr uzantılı e-postalar kabul edilir."):a.email="E-posta adresi zorunludur.",s.password?A.length>0&&(a.password="Şifre gereksinimlerini karşılamıyor."):a.password="Şifre zorunludur.",s.password!==s.passwordConfirm&&(a.passwordConfirm="Şifreler eşleşmiyor."),o.terms||(a.terms="Kullanım şartlarını kabul etmelisiniz."),o.privacy||(a.privacy="Gizlilik politikasını kabul etmelisiniz."),o.kvkk||(a.kvkk="KVKK metnini kabul etmelisiniz."),j(a),Object.keys(a).length===0},P=async a=>{if(a.preventDefault(),f(""),!!K()){w(!0);try{await M({email:s.email,password:s.password,displayName:s.displayName.trim()}),r("/email-dogrula")}catch(i){f(R(i.code))}finally{w(!1)}}},k=a=>i=>{n(y=>({...y,[a]:i.target.value})),t[a]&&j(y=>({...y,[a]:""})),f("")};return e.jsx(U,{title:"Hesap Oluştur",subtitle:"Üniversite e-postanla kayıt ol ve çalışma arkadaşını bul.",footerText:"Zaten hesabın var mı?",footerLink:"/giris",footerLinkText:"Giriş Yap →",children:e.jsxs("form",{onSubmit:P,className:"flex flex-col gap-5",noValidate:!0,children:[b&&e.jsxs("div",{className:"flex items-start gap-3 p-4 rounded-xl text-sm",style:{background:"rgba(200,64,64,0.1)",border:"1px solid rgba(200,64,64,0.25)",color:"#E87070"},children:[e.jsx(S,{size:16,className:"flex-shrink-0 mt-0.5"}),b]}),e.jsx(h,{label:"Ad Soyad",id:"displayName",type:"text",value:s.displayName,onChange:k("displayName"),placeholder:"Ali Veli",error:t.displayName,icon:q}),e.jsx(h,{label:"Üniversite E-postası",id:"email",type:"email",value:s.email,onChange:k("email"),placeholder:"ali.veli@ogr.uni.edu.tr",error:t.email,icon:T}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(h,{label:"Şifre",id:"password",type:l?"text":"password",value:s.password,onChange:k("password"),placeholder:"En az 8 karakter",error:t.password,icon:z,rightEl:e.jsx("button",{type:"button",onClick:()=>p(a=>!a),className:"p-1 transition-opacity hover:opacity-100 opacity-50",children:l?e.jsx(C,{size:16,className:"text-cream"}):e.jsx(E,{size:16,className:"text-cream"})})}),s.password&&e.jsxs("div",{className:"pl-1",children:[e.jsx(B,{password:s.password}),e.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-1",children:[e.jsx(x,{met:s.password.length>=8,text:"En az 8 karakter"}),e.jsx(x,{met:/[A-Z]/.test(s.password),text:"Büyük harf"}),e.jsx(x,{met:/[a-z]/.test(s.password),text:"Küçük harf"}),e.jsx(x,{met:/[0-9]/.test(s.password),text:"Rakam"}),e.jsx(x,{met:/[^A-Za-z0-9]/.test(s.password),text:"Özel karakter"})]})]})]}),e.jsx(h,{label:"Şifre Tekrar",id:"passwordConfirm",type:u?"text":"password",value:s.passwordConfirm,onChange:k("passwordConfirm"),placeholder:"Şifrenizi tekrar girin",error:t.passwordConfirm,icon:z,rightEl:e.jsx("button",{type:"button",onClick:()=>m(a=>!a),className:"p-1 transition-opacity hover:opacity-100 opacity-50",children:u?e.jsx(C,{size:16,className:"text-cream"}):e.jsx(E,{size:16,className:"text-cream"})})}),e.jsxs("div",{className:"flex flex-col gap-3 pt-2 pb-1",children:[e.jsxs(g,{id:"terms",checked:o.terms,onChange:a=>c(i=>({...i,terms:a.target.checked})),children:[e.jsx(v,{to:"/kullanim-sartlari",target:"_blank",className:"underline hover:no-underline",style:{color:"var(--amber)"},children:"Kullanım Şartları"}),"'nı okudum ve kabul ediyorum. *",t.terms&&e.jsx("span",{className:"block text-xs mt-0.5",style:{color:"var(--error)"},children:t.terms})]}),e.jsxs(g,{id:"privacy",checked:o.privacy,onChange:a=>c(i=>({...i,privacy:a.target.checked})),children:[e.jsx(v,{to:"/gizlilik",target:"_blank",className:"underline hover:no-underline",style:{color:"var(--amber)"},children:"Gizlilik Politikası"}),"'nı okudum ve kabul ediyorum. *",t.privacy&&e.jsx("span",{className:"block text-xs mt-0.5",style:{color:"var(--error)"},children:t.privacy})]}),e.jsxs(g,{id:"kvkk",checked:o.kvkk,onChange:a=>c(i=>({...i,kvkk:a.target.checked})),children:[e.jsx(v,{to:"/kvkk",target:"_blank",className:"underline hover:no-underline",style:{color:"var(--amber)"},children:"KVKK Aydınlatma Metni"}),"'ni okudum ve onaylıyorum. *",t.kvkk&&e.jsx("span",{className:"block text-xs mt-0.5",style:{color:"var(--error)"},children:t.kvkk})]})]}),e.jsx("button",{type:"submit",disabled:N,className:"btn-primary w-full py-3.5 text-base disabled:opacity-50 disabled:cursor-not-allowed",children:N?e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx("span",{className:"w-4 h-4 border-2 border-ink border-t-transparent rounded-full animate-spin"}),"Kayıt oluşturuluyor..."]}):e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx(Z,{size:18})," Kayıt Ol"]})})]})})};export{X as default};
